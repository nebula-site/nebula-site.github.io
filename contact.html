<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Waffles</title>
  <link rel="icon" type="image/x-icon" href="/images/favicon.png" />
  <link rel="stylesheet" href="/css/main.css" />
  <link rel="stylesheet" href="/css/navbar.css" />
  <link rel="stylesheet" href="/css/menu.css" />
  <script src="/js/main.js" defer></script>
  <script src="/js/navbar.js" defer></script>
</head>
<body>
  <center>
    <br><br>
    <img class="waffles" src="/images/favicon.png" alt="Waffles Logo" />
    <br><br>
    <div class="info" id="info">
      <h1 style="color:#a3f7ff; font-size:50px; font-family:'Bebas Neue',cursive; text-shadow:0 0 12px #3f00ff,2px 2px 6px #000a;">Contact Us</h1>
      <p style="color:#e0e6ff; font-size:20px; font-family:Space Grotesk;">We’d love to hear from you! Whether you have a question, suggestion, or just want to share your thoughts, we’re always here to help. Your feedback is important to us, and we strive to provide the best support and service possible.</p>

      <h2 style="color:#a3f7ff; font-family:'Bebas Neue',cursive;">Contact Form</h2>
      <form id="contactForm" action="https://formspree.io/f/xzzjjwgp" method="POST" style="background:rgba(30,0,60,0.5); border-radius:16px; box-shadow:0 0 24px 0 #a3f7ff44; padding:32px 24px; max-width:400px; margin:24px auto 0 auto; display:flex; flex-direction:column; gap:16px;">
        <label for="name" style="color:#a3f7ff; font-weight:600;">Name:</label>
        <input type="text" id="name" name="name" required style="background:#23263a; color:#e0e6ff; border:none; border-radius:8px; padding:10px; font-size:1em;">

        <label for="email" style="color:#a3f7ff; font-weight:600;">Your Email:</label>
        <input type="email" id="email" name="email" required style="background:#23263a; color:#e0e6ff; border:none; border-radius:8px; padding:10px; font-size:1em;">

        <label for="subject" style="color:#a3f7ff; font-weight:600;">Subject:</label>
        <input type="text" id="subject" name="subject" required style="background:#23263a; color:#e0e6ff; border:none; border-radius:8px; padding:10px; font-size:1em;">

        <label for="message" style="color:#a3f7ff; font-weight:600;">Message:</label>
        <textarea id="message" name="message" rows="5" required style="background:#23263a; color:#e0e6ff; border:none; border-radius:8px; padding:10px; font-size:1em;"></textarea>

        <button type="submit" style="background:linear-gradient(90deg,#3f00ff 0%,#a3f7ff 100%); color:#1a0033; padding:12px; border:none; border-radius:8px; font-size:1.1em; font-weight:bold; cursor:pointer; margin-top:8px; box-shadow:0 0 8px #a3f7ff88; transition:background 0.2s;">Send</button>
      </form>
      <p id="form-status" style="color:#a3f7ff; text-align:center; margin-top:10px; font-weight:600;"></p>
      <!-- ...existing code... -->
      <script>
        document.getElementById('contactForm').addEventListener('submit', function(e) {
          var form = this;
          var status = document.getElementById('form-status');
          e.preventDefault();
          var data = new FormData(form);
          fetch(form.action, {
            method: form.method,
            body: data,
            headers: { 'Accept': 'application/json' }
          }).then(function(response) {
            if (response.ok) {
              status.textContent = 'Thank you for your message!';
              form.reset();
            } else {
              response.json().then(function(data) {
                if (Object.hasOwn(data, 'errors')) {
                  status.textContent = data["errors"].map(function(error) { return error["message"]; }).join(", ");
                } else {
                  status.textContent = 'Oops! There was a problem submitting your form.';
                }
              });
            }
          }).catch(function(error) {
            status.textContent = 'Oops! There was a problem submitting your form.';
          });
        });
      </script>

      <!-- Autofill / redirect logic -->
      <script>
        document.addEventListener('DOMContentLoaded', async function () {
          const nameInput = document.getElementById('name');
          const emailInput = document.getElementById('email');

          // 1) Try localStorage (set by profile/profile navbar code)
          try {
            const stored = localStorage.getItem('nebula_profile');
            if (stored) {
              const p = JSON.parse(stored);
              if (p && (p.name || p.email)) {
                if (p.name) nameInput.value = p.name;
                if (p.email) emailInput.value = p.email;
                return; // done
              }
            }
          } catch (e) { /* ignore and continue */ }

          // 2) Fallback: try puter auth if available
          try {
            if (window.puter && puter.auth && typeof puter.auth.getUser === 'function') {
              const user = await puter.auth.getUser();
              if (user) {
                const meta = user.user_metadata || {};
                const name = user.name || meta.full_name || meta.name || '';
                const email = user.email || '';
                if (name) nameInput.value = name;
                if (email) emailInput.value = email;
                return; // done
              }
            }
          } catch (e) { /* ignore */ }

          // 3) Not signed in — redirect to profile page to sign in
          window.location.href = '/profile.html';
        });
      </script>
<!-- ...existing code... -->
    </div>
  </center>

  <div id="navbar-container"></div>
  <div id="particles-js"></div>

  <script src="/js/profile.js" defer></script>


<footer>
        <p style="margin: 0;"><i class="fa fa-star"></i> Nebula — gaming meets reality!</p>
        <nav style="margin-top: 8px;">
            <a href="/privacy.html"><i class="fa fa-shield"></i> Privacy Policy</a>
            <a href="/terms.html"><i class="fa fa-file-contract"></i> Terms of Service</a>
            <a href="/contact.html"><i class="fa fa-envelope"></i> Contact Us</a>
             <a href="/DMCA.html"><i class="fa fa-gavel"></i> DMCA</a>
        </nav>
    </footer>
