<!-- Signup form -->
<form id="signup-form">
  <input type="text" id="username" placeholder="Username" required />
  <input type="email" id="email" placeholder="Email" required />
  <input type="password" id="password" placeholder="Password" required />
  <button type="submit">Sign Up</button>
</form>

<script>
  const API_URL = "https://waffles-database.vercel.app/api/users"; // Vercel API URL

  // Handle form submission
  document.getElementById("signup-form").addEventListener("submit", async (e) => {
    e.preventDefault();

    const username = document.getElementById("username").value;
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;

    // Make API request to register the user
    const res = await fetch(`${API_URL}/register`, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ username, email, password })
    });

    const data = await res.json();
    if (res.ok) {
      alert("Account created! Your ID: " + data.id);
      // You can save data.id or any other info locally (e.g., in localStorage)
    } else {
      alert("Error: " + (data.message || res.status));
    }
  });
</script>
